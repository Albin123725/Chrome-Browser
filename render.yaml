services:
  - type: web
    name: chrome-rdp-clean
    env: docker
    plan: free
    dockerfilePath: ./Dockerfile
    port: 80
    
    envVars:
      # Basic settings
      - key: DISPLAY_WIDTH
        value: "1280"
      - key: DISPLAY_HEIGHT
        value: "720"
      
      # Suppress Chrome errors
      - key: DBUS_SESSION_BUS_ADDRESS
        value: "/dev/null"
      - key: NO_AT_BRIDGE
        value: "1"
      
      # Your Colab
      - key: STARTUP_URL
        value: "https://colab.research.google.com/drive/1jckV8xUJSmLhhol6wZwVJzpybsimiRw1?usp=sharing"
      
      # Render service name (for keep-alive)
      - key: RENDER_SERVICE_NAME
        sync: false  # This will be auto-populated
    
    healthCheckPath: /health
    autoDeploy: true
    disk:
      name: chrome-data
      mountPath: /data
      sizeGB: 1
